#!/usr/bin/env ruby
# -*- coding: utf-8 -*-

require_relative "../lib/brew_bundle/brew"

Brew.configure do |config|
  config.test_run = true
end

def handle_cask(command)
end

def handle_tap(command)
end

def handle_update
  Brew.run_command "update"
end

def handle_install(command)
end

File.open("Brewfile") do |f|
  f.each do |line|
    if line !~ /^$/ and not line.include? '#'
      if line.include? 'cask '
        handle_cask line.strip()
      elsif line.include? 'tap '
        handle_tap line.strip()
      elsif line.include? 'update'
        handle_update
      elsif line.include? 'install '
        handle_install line.strip()
      else
        puts "Unknown command: #{line}"
      end
    end
  end
end
